{"ast":null,"code":"var _excluded = [\"activeDate\", \"animate\", \"bounds\", \"children\", \"date\", \"dates\", \"daysOfWeek\", \"disabled\", \"initialFocus\", \"fill\", \"firstDayOfWeek\", \"header\", \"locale\", \"messages\", \"normalize\", \"onReference\", \"onSelect\", \"range\", \"reference\", \"showAdjacentDays\", \"size\", \"timestamp\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useRef, useState, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Heading } from '../Heading';\nimport { Keyboard } from '../Keyboard';\nimport { StyledCalendar, StyledDay, StyledDayContainer, StyledWeek, StyledWeeks, StyledWeeksContainer } from './StyledCalendar';\nimport { addDays, addMonths, betweenDates, daysApart, endOfMonth, formatToLocalYYYYMMDD, getFormattedDate, getTimestamp, normalizeForTimezone, startOfMonth, subtractDays, subtractMonths, withinDates } from './utils';\nimport { CalendarPropTypes } from './propTypes';\nvar headingPadMap = {\n  small: 'xsmall',\n  medium: 'small',\n  large: 'medium'\n};\nvar activeDates = {\n  start: 'start',\n  end: 'end'\n};\n\nvar formatSelectedDatesString = function formatSelectedDatesString(date, normalize) {\n  return \"Currently selected\\n  \" + (date == null ? void 0 : date.map(function (item) {\n    var dates;\n\n    if (!Array.isArray(item)) {\n      dates = formatToLocalYYYYMMDD(item, normalize) + \" \";\n    } else {\n      var start = item[0] !== undefined ? formatToLocalYYYYMMDD(item[0], normalize) : 'none';\n      var end = item[1] !== undefined ? formatToLocalYYYYMMDD(item[1], normalize) : 'none';\n      dates = start + \" through \" + end;\n    }\n\n    return dates;\n  }));\n};\n\nvar getAccessibilityString = function getAccessibilityString(date, dates, normalize) {\n  if (date && !Array.isArray(date)) {\n    return \"Currently selected \" + formatToLocalYYYYMMDD(date, normalize) + \";\";\n  }\n\n  if (date && Array.isArray(date)) {\n    return formatSelectedDatesString(date, normalize);\n  }\n\n  if (dates != null && dates.length) {\n    return formatSelectedDatesString(dates, normalize);\n  }\n\n  return 'No date selected';\n}; // function that runs inside the useEffect for date and dates\n\n\nvar normalizeDate = function normalizeDate(dateValue, timestamp, normalize) {\n  if (typeof dateValue === 'string') {\n    return normalizeForTimezone(dateValue, timestamp, normalize);\n  }\n\n  if (Array.isArray(dateValue)) {\n    if (Array.isArray(dateValue[0])) {\n      var _dateValue$0$map = dateValue[0].map(function (day) {\n        return normalizeForTimezone(day, timestamp, normalize) || undefined;\n      }),\n          from = _dateValue$0$map[0],\n          to = _dateValue$0$map[1];\n\n      return [[from, to]];\n    }\n\n    var dateArray = [];\n    dateValue.forEach(function (d) {\n      if (Array.isArray(d)) {\n        var _d$map = d.map(function (day) {\n          return normalizeForTimezone(day, timestamp, normalize);\n        }),\n            _from = _d$map[0],\n            _to = _d$map[1];\n\n        dateArray.push([_from, _to]);\n      } else {\n        dateArray.push(normalizeForTimezone(d, timestamp, normalize));\n      }\n    });\n    return dateArray;\n  }\n\n  return undefined;\n};\n\nvar normalizeReference = function normalizeReference(reference, date, dates, timestamp) {\n  var normalizedReference;\n\n  if (reference) {\n    normalizedReference = new Date(normalizeForTimezone(reference, timestamp));\n  } else if (date) {\n    if (typeof date === 'string') {\n      normalizedReference = new Date(date);\n    } else if (Array.isArray(date)) {\n      if (typeof date[0] === 'string') {\n        normalizedReference = new Date(date[0]);\n      } else if (Array.isArray(date[0])) {\n        normalizedReference = new Date(date[0][0] ? date[0][0] : date[0][1]);\n      } else {\n        normalizedReference = new Date();\n        normalizedReference.setHours(0, 0, 0, 0);\n      }\n    }\n  } else if (dates && dates.length > 0) {\n    if (typeof dates[0] === 'string') {\n      normalizedReference = new Date(dates[0]);\n    } else if (Array.isArray(dates[0])) {\n      normalizedReference = new Date(dates[0][0] ? dates[0][0] : dates[0][1]);\n    } else {\n      normalizedReference = new Date();\n      normalizedReference.setHours(0, 0, 0, 0);\n    }\n  } else {\n    normalizedReference = new Date();\n    normalizedReference.setHours(0, 0, 0, 0);\n  }\n\n  return normalizedReference;\n};\n\nvar buildDisplayBounds = function buildDisplayBounds(reference, firstDayOfWeek) {\n  var start = new Date(reference);\n  start.setDate(1); // first of month\n  // In case Sunday is the first day of the month, and the user asked for Monday\n  // to be the first day of the week, then we need to include Sunday and six\n  // days prior.\n\n  start = start.getDay() === 0 && firstDayOfWeek === 1 ? start = subtractDays(start, 6) : // beginning of week\n  start = subtractDays(start, start.getDay() - firstDayOfWeek);\n  var end = addDays(start, 7 * 5 + 7); // 5 weeks to end of week\n\n  return [start, end];\n};\n\nvar millisecondsPerYear = 31557600000;\n\nvar CalendarDayButton = function CalendarDayButton(props) {\n  return /*#__PURE__*/React.createElement(Button, _extends({\n    tabIndex: -1,\n    plain: true\n  }, props));\n};\n\nvar CalendarDay = function CalendarDay(_ref) {\n  var children = _ref.children,\n      fill = _ref.fill,\n      size = _ref.size,\n      isInRange = _ref.isInRange,\n      isSelected = _ref.isSelected,\n      otherMonth = _ref.otherMonth,\n      _ref$buttonProps = _ref.buttonProps,\n      buttonProps = _ref$buttonProps === void 0 ? {} : _ref$buttonProps;\n  return /*#__PURE__*/React.createElement(StyledDayContainer, {\n    role: \"gridcell\",\n    sizeProp: size,\n    fillContainer: fill\n  }, /*#__PURE__*/React.createElement(CalendarDayButton, _extends({\n    fill: fill\n  }, buttonProps), /*#__PURE__*/React.createElement(StyledDay, {\n    disabledProp: buttonProps.disabled,\n    inRange: isInRange,\n    otherMonth: otherMonth,\n    isSelected: isSelected,\n    sizeProp: size,\n    fillContainer: fill\n  }, children)));\n};\n\nvar CalendarCustomDay = function CalendarCustomDay(_ref2) {\n  var children = _ref2.children,\n      fill = _ref2.fill,\n      size = _ref2.size,\n      buttonProps = _ref2.buttonProps;\n\n  if (!buttonProps) {\n    return /*#__PURE__*/React.createElement(StyledDayContainer, {\n      role: \"gridcell\",\n      sizeProp: size,\n      fillContainer: fill\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(StyledDayContainer, {\n    role: \"gridcell\",\n    sizeProp: size,\n    fillContainer: fill\n  }, /*#__PURE__*/React.createElement(CalendarDayButton, _extends({\n    fill: fill\n  }, buttonProps), children));\n};\n\nvar Calendar = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var activeDateProp = _ref3.activeDate,\n      _ref3$animate = _ref3.animate,\n      animate = _ref3$animate === void 0 ? true : _ref3$animate,\n      boundsProp = _ref3.bounds,\n      children = _ref3.children,\n      dateProp = _ref3.date,\n      datesProp = _ref3.dates,\n      daysOfWeek = _ref3.daysOfWeek,\n      disabled = _ref3.disabled,\n      initialFocus = _ref3.initialFocus,\n      fill = _ref3.fill,\n      _ref3$firstDayOfWeek = _ref3.firstDayOfWeek,\n      firstDayOfWeek = _ref3$firstDayOfWeek === void 0 ? 0 : _ref3$firstDayOfWeek,\n      header = _ref3.header,\n      _ref3$locale = _ref3.locale,\n      locale = _ref3$locale === void 0 ? 'en-US' : _ref3$locale,\n      messages = _ref3.messages,\n      _ref3$normalize = _ref3.normalize,\n      normalizeProp = _ref3$normalize === void 0 ? true : _ref3$normalize,\n      onReference = _ref3.onReference,\n      onSelect = _ref3.onSelect,\n      range = _ref3.range,\n      referenceProp = _ref3.reference,\n      _ref3$showAdjacentDay = _ref3.showAdjacentDays,\n      showAdjacentDays = _ref3$showAdjacentDay === void 0 ? true : _ref3$showAdjacentDay,\n      _ref3$size = _ref3.size,\n      size = _ref3$size === void 0 ? 'medium' : _ref3$size,\n      timestampProp = _ref3.timestamp,\n      rest = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var announce = useContext(AnnounceContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format; // when mousedown, we don't want to let Calendar set\n  // active date to firstInMonth\n\n\n  var _useState = useState(false),\n      mouseDown = _useState[0],\n      setMouseDown = _useState[1];\n\n  var onMouseDown = function onMouseDown() {\n    return setMouseDown(true);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    return setMouseDown(false);\n  };\n\n  useEffect(function () {\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('mouseup', onMouseUp);\n    return function () {\n      document.removeEventListener('mousedown', onMouseDown);\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []); // whether or not we should normalize the date based on the timestamp.\n  // will be set to false if the initial timestamp is undefined (meaning\n  // a user did not provide a defaultValue or value). in this case, we\n  // will just rely on the UTC timestamp and don't need to normalize.\n\n  var _useState2 = useState(normalizeProp),\n      normalize = _useState2[0],\n      setNormalize = _useState2[1]; // set activeDate when caller changes it, allows us to change\n  // it internally too\n\n\n  var _useState3 = useState(dateProp && typeof dateProp === 'string' && range ? activeDates.end : activeDates.start),\n      activeDate = _useState3[0],\n      setActiveDate = _useState3[1];\n\n  useEffect(function () {\n    if (activeDateProp) setActiveDate(activeDateProp);\n  }, [activeDateProp]);\n  var timestamp = useMemo(function () {\n    return timestampProp;\n  }, [timestampProp]);\n\n  if (timestampProp === undefined) {\n    if (Array.isArray(dateProp) && dateProp.length) {\n      if (Array.isArray(dateProp[0])) {\n        timestamp = getTimestamp(dateProp[0][0]);\n      } else timestamp = getTimestamp(dateProp[0]); // check to see if value is not an empty string\n      // empty string should behave like undefined\n\n    } else if (typeof dateProp === 'string' && dateProp.length) {\n      timestamp = getTimestamp(dateProp);\n    } else if (Array.isArray(datesProp) && datesProp.length) {\n      if (Array.isArray(datesProp[0])) {\n        timestamp = getTimestamp(datesProp[0][0]);\n      } else timestamp = getTimestamp(datesProp[0]);\n    } else if (typeof datesProp === 'string') {\n      timestamp = getTimestamp(datesProp);\n    } else if (typeof referenceProp === 'string') {\n      timestamp = getTimestamp(referenceProp);\n    }\n  }\n\n  var normalizedDate = useMemo(function () {\n    return timestampProp === undefined ? normalizeDate(dateProp, timestamp, normalize) : dateProp;\n  }, [dateProp, normalize, timestamp, timestampProp]);\n  var normalizedDates = useMemo(function () {\n    return timestampProp === undefined ? normalizeDate(datesProp, timestamp, normalize) : datesProp;\n  }, [datesProp, normalize, timestamp, timestampProp]); // set date when caller changes it, allows us to change it internally too\n\n  var _useState4 = useState(normalizedDate),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  useEffect(function () {\n    setDate(normalizedDate);\n  }, [normalizedDate]); // set dates when caller changes it, allows us to change it internally too\n\n  var _useState5 = useState(normalizedDates),\n      dates = _useState5[0],\n      setDates = _useState5[1];\n\n  useEffect(function () {\n    setDates(normalizedDates);\n  }, [normalizedDates]); // set reference based on what the caller passed or date/dates.\n\n  var _useState6 = useState(normalizeReference(referenceProp, normalizedDate, normalizedDates, timestamp)),\n      reference = _useState6[0],\n      setReference = _useState6[1];\n\n  useEffect(function () {\n    return setReference(normalizeReference(referenceProp, normalizedDate, normalizedDates, timestamp));\n  }, [referenceProp, normalizedDate, normalizedDates, timestamp]); // normalize bounds\n\n  var _useState7 = useState(boundsProp),\n      bounds = _useState7[0],\n      setBounds = _useState7[1];\n\n  useEffect(function () {\n    if (boundsProp) setBounds(boundsProp);else setBounds(undefined);\n  }, [boundsProp]); // calculate the bounds we display based on the reference\n\n  var _useState8 = useState(buildDisplayBounds(reference, firstDayOfWeek)),\n      displayBounds = _useState8[0],\n      setDisplayBounds = _useState8[1];\n\n  var _useState9 = useState(),\n      targetDisplayBounds = _useState9[0],\n      setTargetDisplayBounds = _useState9[1];\n\n  var _useState10 = useState(),\n      slide = _useState10[0],\n      setSlide = _useState10[1];\n\n  var _useState11 = useState(),\n      animating = _useState11[0],\n      setAnimating = _useState11[1]; // When the reference changes, we need to update the displayBounds.\n  // This is easy when we aren't animating. If we are animating,\n  // we temporarily increase the displayBounds to be the union of the old\n  // and new ones and set slide to drive the animation. We keep track\n  // of where we are heading via targetDisplayBounds. When the animation\n  // finishes, we prune displayBounds down to where we are headed and\n  // clear the slide and targetDisplayBounds.\n\n\n  useEffect(function () {\n    var nextDisplayBounds = buildDisplayBounds(reference, firstDayOfWeek); // Checks if the difference between the current and next DisplayBounds is\n    // greater than a year. If that's the case, calendar should update without\n    // animation.\n\n    if (nextDisplayBounds[0].getTime() !== displayBounds[0].getTime() && nextDisplayBounds[1].getTime() !== displayBounds[1].getTime()) {\n      var diffBoundsAboveYear = false;\n\n      if (nextDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\n        if (displayBounds[0].getTime() - nextDisplayBounds[0].getTime() > millisecondsPerYear) {\n          diffBoundsAboveYear = true;\n        }\n      } else if (nextDisplayBounds[1].getTime() > displayBounds[1].getTime()) {\n        if (nextDisplayBounds[1].getTime() - displayBounds[1].getTime() > millisecondsPerYear) {\n          diffBoundsAboveYear = true;\n        }\n      }\n\n      if (!animate || diffBoundsAboveYear) {\n        setDisplayBounds(nextDisplayBounds);\n      } else {\n        setTargetDisplayBounds(nextDisplayBounds);\n      }\n    }\n  }, [animate, firstDayOfWeek, reference, displayBounds]);\n  useEffect(function () {\n    if (targetDisplayBounds) {\n      if (targetDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\n        // only animate if the duration is within a year\n        if (displayBounds[0].getTime() - targetDisplayBounds[0].getTime() < millisecondsPerYear) {\n          setDisplayBounds([targetDisplayBounds[0], displayBounds[1]]);\n          setSlide({\n            direction: 'down',\n            weeks: daysApart(displayBounds[0], targetDisplayBounds[0]) / 7\n          });\n          setAnimating(true);\n        }\n      } else if (targetDisplayBounds[1].getTime() > displayBounds[1].getTime()) {\n        if (targetDisplayBounds[1].getTime() - displayBounds[1].getTime() < millisecondsPerYear) {\n          setDisplayBounds([displayBounds[0], targetDisplayBounds[1]]);\n          setSlide({\n            direction: 'up',\n            weeks: daysApart(targetDisplayBounds[1], displayBounds[1]) / 7\n          });\n          setAnimating(true);\n        }\n      }\n\n      return undefined;\n    }\n\n    setSlide(undefined);\n    return undefined;\n  }, [animating, displayBounds, targetDisplayBounds]); // Last step in updating the displayBounds. Allows for pruning\n  // displayBounds and cleaning up states to occur after animation.\n\n  useEffect(function () {\n    if (animating && targetDisplayBounds) {\n      // Wait for animation to finish before cleaning up.\n      var timer = setTimeout(function () {\n        setDisplayBounds(targetDisplayBounds);\n        setTargetDisplayBounds(undefined);\n        setSlide(undefined);\n        setAnimating(false);\n      }, 400 // Empirically determined.\n      );\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [animating, targetDisplayBounds]); // We have to deal with reference being the end of a month with more\n  // days than the month we are changing to. So, we always set reference\n  // to the first of the month before changing the month.\n\n  var previousMonth = useMemo(function () {\n    return endOfMonth(subtractMonths(startOfMonth(reference), 1));\n  }, [reference]);\n  var nextMonth = useMemo(function () {\n    return startOfMonth(addMonths(startOfMonth(reference), 1));\n  }, [reference]);\n  var daysRef = useRef();\n\n  var _useState12 = useState(),\n      focus = _useState12[0],\n      setFocus = _useState12[1];\n\n  var _useState13 = useState(),\n      active = _useState13[0],\n      setActive = _useState13[1];\n\n  useEffect(function () {\n    if (initialFocus === 'days') daysRef.current.focus();\n  }, [initialFocus]);\n  var changeReference = useCallback(function (nextReference) {\n    if (betweenDates(nextReference, bounds)) {\n      setReference(nextReference);\n      if (onReference) onReference(nextReference.toISOString());\n    }\n  }, [onReference, bounds]);\n  var selectDate = useCallback(function (selectedDate) {\n    var nextDates;\n    var nextDate; // timestamp will be undefined if no defaultValue or value have\n    // been passed in, indicating that we should stay local\n\n    var nextNormalize = normalize;\n\n    if (timestamp === undefined) {\n      nextNormalize = false;\n      setNormalize(nextNormalize);\n    }\n\n    if (!range) {\n      nextDate = selectedDate;\n    } // everything down is a range\n    else if (!dates && !Array.isArray(date)) {\n      // if user supplies date, convert this into dates\n      if (date) {\n        var priorDate = new Date(date);\n        var selDate = new Date(selectedDate);\n\n        if (activeDate === activeDates.start) {\n          if (selDate.getTime() > priorDate.getTime()) {\n            nextDates = [[selectedDate, undefined]];\n          } else {\n            nextDates = [[selectedDate, date]];\n          }\n\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.end) {\n          if (selDate.getTime() < priorDate.getTime()) {\n            nextDates = [[selectedDate, undefined]];\n            setActiveDate(activeDates.end);\n          } else {\n            nextDates = [[date, selectedDate]];\n            setActiveDate(activeDates.start);\n          }\n\n          if (activeDateProp) setActiveDate(activeDateProp);\n        }\n      } else if (activeDate === activeDates.start) {\n        nextDates = [[selectedDate, undefined]];\n        setActiveDate(activeDates.end);\n      } else if (activeDate === activeDates.end) {\n        nextDates = [[undefined, selectedDate]];\n      }\n\n      if (activeDateProp) setActiveDate(activeDateProp);\n    } else if (dates || date) {\n      var handleSelection = function handleSelection(dateValue) {\n        var priorDates = dateValue[0].map(function (d) {\n          return new Date(d);\n        });\n        var selDate = new Date(selectedDate);\n\n        if (selDate.getTime() === priorDates[0].getTime()) {\n          nextDates = [[undefined, dateValue[0][1]]];\n          setActiveDate(activeDates.start);\n        } else if (selDate.getTime() === priorDates[1].getTime()) {\n          nextDates = [[dateValue[0][0], undefined]];\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.start) {\n          if (selDate.getTime() > priorDates[1].getTime()) {\n            nextDates = [[selectedDate, undefined]];\n          } else {\n            nextDates = [[selectedDate, dateValue[0][1]]];\n          }\n\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.end) {\n          if (selDate.getTime() < priorDates[0].getTime()) {\n            nextDates = [[selectedDate, undefined]];\n            setActiveDate(activeDates.end);\n          } else {\n            nextDates = [[dateValue[0][0], selectedDate]];\n            setActiveDate(activeDates.start);\n          }\n\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } // cleanup\n\n\n        if (!nextDates[0][0] && !nextDates[0][1]) nextDates = undefined;\n      }; // have dates\n\n\n      if (dates) {\n        handleSelection(dates);\n      } else if (date && Array.isArray(date)) {\n        handleSelection(date);\n      }\n    }\n\n    setDates(nextDates);\n\n    if (date && typeof date === 'string') {\n      setDate(nextDate);\n    } else if (date && Array.isArray(date)) {\n      setDate(nextDates);\n    }\n\n    setActive(new Date(selectedDate));\n\n    if (onSelect) {\n      // format date/dates to match structure provided by caller\n      // which could take format of:\n      // 1. ISO8601 with a timestamp\n      // 2. ISO8601 without a timestamp\n      // 3. Caller did not provide value/defaultValue, so return date\n      // in ISO8601 with timestamp in UTC relative to user's local timezone\n      var formattedDate = getFormattedDate(nextDate, nextDates, nextNormalize, range, timestamp);\n      onSelect(formattedDate);\n    }\n  }, [activeDate, activeDateProp, date, dates, normalize, onSelect, range, timestamp]);\n\n  var renderCalendarHeader = function renderCalendarHeader() {\n    var PreviousIcon = size === 'small' ? theme.calendar.icons.small.previous : theme.calendar.icons.previous;\n    var NextIcon = size === 'small' ? theme.calendar.icons.small.next : theme.calendar.icons.next;\n    return /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: \"between\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: true,\n      pad: {\n        horizontal: headingPadMap[size] || 'small'\n      }\n    }, /*#__PURE__*/React.createElement(Heading, {\n      level: size === 'small' ? theme.calendar.heading && theme.calendar.heading.level || 4 : (theme.calendar.heading && theme.calendar.heading.level || 4) - 1,\n      size: size,\n      margin: \"none\"\n    }, reference.toLocaleDateString(locale, {\n      month: 'long',\n      year: 'numeric'\n    }))), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'calendar.previous',\n        messages: messages,\n        values: {\n          date: previousMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }),\n      icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n        size: size !== 'small' ? size : undefined\n      }),\n      disabled: !betweenDates(previousMonth, bounds),\n      onClick: function onClick() {\n        changeReference(previousMonth);\n        announce(format({\n          id: 'calendar.previousMove',\n          messages: messages,\n          values: {\n            date: previousMonth.toLocaleDateString(locale, {\n              month: 'long',\n              year: 'numeric'\n            })\n          }\n        }));\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'calendar.next',\n        messages: messages,\n        values: {\n          date: nextMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }),\n      icon: /*#__PURE__*/React.createElement(NextIcon, {\n        size: size !== 'small' ? size : undefined\n      }),\n      disabled: !betweenDates(nextMonth, bounds),\n      onClick: function onClick() {\n        changeReference(nextMonth);\n        announce(format({\n          id: 'calendar.nextMove',\n          messages: messages,\n          values: {\n            date: nextMonth.toLocaleDateString(locale, {\n              month: 'long',\n              year: 'numeric'\n            })\n          }\n        }));\n      }\n    })));\n  };\n\n  var renderDaysOfWeek = function renderDaysOfWeek() {\n    var day = new Date(displayBounds[0]);\n    var days = [];\n\n    while (days.length < 7) {\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        role: \"gridcell\",\n        key: days.length,\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        otherMonth: true,\n        sizeProp: size,\n        fillContainer: fill\n      }, day.toLocaleDateString(locale, {\n        weekday: 'narrow'\n      }))));\n      day = addDays(day, 1);\n    }\n\n    return /*#__PURE__*/React.createElement(StyledWeek, {\n      role: \"row\"\n    }, days);\n  };\n\n  var weeks = [];\n  var day = new Date(displayBounds[0]);\n  var days;\n  var firstDayInMonth;\n  var blankWeek = false;\n\n  while (day.getTime() < displayBounds[1].getTime()) {\n    if (day.getDay() === firstDayOfWeek) {\n      if (days) {\n        weeks.push( /*#__PURE__*/React.createElement(StyledWeek, {\n          role: \"row\",\n          key: day.getTime(),\n          fillContainer: fill\n        }, days));\n      }\n\n      days = [];\n    }\n\n    var otherMonth = day.getMonth() !== reference.getMonth();\n\n    if (!showAdjacentDays && otherMonth) {\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        key: day.getTime(),\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        sizeProp: size,\n        fillContainer: fill\n      })));\n\n      if (weeks.length === 5 &&\n      /* If the length days array is less than the current getDate()\n      we know that all days in the array are from the next month. */\n      days.length < day.getDate()) {\n        blankWeek = true;\n      }\n    } else if (\n    /* Do not show adjacent days in 6th row if all days\n    fall in the next month */\n    showAdjacentDays === 'trim' && otherMonth && weeks.length === 5 &&\n    /* If the length days array is less than the current getDate()\n    we know that all days in the array are from the next month. */\n    days.length < day.getDate()) {\n      blankWeek = true;\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        key: day.getTime(),\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        sizeProp: size,\n        fillContainer: fill\n      })));\n    } else {\n      (function () {\n        var dateString = day.toISOString(); // this.dayRefs[dateString] = React.createRef();\n\n        var selected = false;\n        var inRange = false;\n        var selectedState = withinDates(day, date || dates);\n\n        if (selectedState === 2) {\n          selected = true;\n        } else if (selectedState === 1) {\n          inRange = true;\n        }\n\n        var dayDisabled = withinDates(day, disabled) || bounds && !betweenDates(day, bounds);\n\n        if (!firstDayInMonth && !dayDisabled && day.getMonth() === reference.getMonth()) {\n          firstDayInMonth = dateString;\n        }\n\n        if (!children) {\n          days.push( /*#__PURE__*/React.createElement(CalendarDay, {\n            key: day.getTime(),\n            buttonProps: {\n              a11yTitle: day.toDateString(),\n              active: active && active.getTime() === day.getTime(),\n              disabled: dayDisabled && !!dayDisabled,\n              onClick: function onClick() {\n                selectDate(dateString);\n                announce(\"Selected \" + formatToLocalYYYYMMDD(dateString, normalize), 'assertive'); // Chrome moves the focus indicator to this button. Set\n                // the focus to the grid of days instead.\n\n                daysRef.current.focus();\n                setActive(new Date(dateString));\n              },\n              onMouseOver: function onMouseOver() {\n                return setActive(new Date(dateString));\n              },\n              onMouseOut: function onMouseOut() {\n                return setActive(undefined);\n              }\n            },\n            isInRange: inRange,\n            isSelected: selected,\n            otherMonth: day.getMonth() !== reference.getMonth(),\n            size: size,\n            fill: fill\n          }, day.getDate()));\n        } else {\n          days.push( /*#__PURE__*/React.createElement(CalendarCustomDay, {\n            key: day.getTime(),\n            buttonProps: onSelect ? {\n              a11yTitle: day.toDateString(),\n              active: active && active.getTime() === day.getTime(),\n              disabled: dayDisabled && !!dayDisabled,\n              onClick: function onClick() {\n                selectDate(dateString);\n                announce(\"Selected\\n                          \" + formatToLocalYYYYMMDD(dateString, normalize), 'assertive'); // Chrome moves the focus indicator to this button. Set\n                // the focus to the grid of days instead.\n\n                daysRef.current.focus();\n                setActive(new Date(dateString));\n              },\n              onMouseOver: function onMouseOver() {\n                return setActive(new Date(dateString));\n              },\n              onMouseOut: function onMouseOut() {\n                return setActive(undefined);\n              }\n            } : null,\n            size: size,\n            fill: fill\n          }, children({\n            date: day,\n            day: day.getDate(),\n            isInRange: inRange,\n            isSelected: selected\n          })));\n        }\n      })();\n    }\n\n    day = addDays(day, 1);\n  }\n\n  weeks.push( /*#__PURE__*/React.createElement(StyledWeek // if a week contains only blank days, for screen reader accessibility\n  // we don't want to set role=\"row\"\n  , {\n    role: !blankWeek ? 'row' : undefined,\n    key: day.getTime(),\n    fillContainer: fill\n  }, days));\n  return /*#__PURE__*/React.createElement(StyledCalendar, _extends({\n    ref: ref,\n    sizeProp: size,\n    fillContainer: fill\n  }, rest), /*#__PURE__*/React.createElement(Box, {\n    fill: fill\n  }, header ? header({\n    date: reference,\n    locale: locale,\n    onPreviousMonth: function onPreviousMonth() {\n      changeReference(previousMonth);\n      announce(format({\n        id: 'calendar.previous',\n        messages: messages,\n        values: {\n          date: previousMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }));\n    },\n    onNextMonth: function onNextMonth() {\n      changeReference(nextMonth);\n      announce(format({\n        id: 'calendar.next',\n        messages: messages,\n        values: {\n          date: nextMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }));\n    },\n    previousInBound: betweenDates(previousMonth, bounds),\n    nextInBound: betweenDates(nextMonth, bounds)\n  }) : renderCalendarHeader(previousMonth, nextMonth), daysOfWeek && renderDaysOfWeek(), /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: function onEnter() {\n      return active !== undefined ? selectDate(active.toISOString()) : undefined;\n    },\n    onUp: function onUp(event) {\n      event.preventDefault();\n      event.stopPropagation(); // so the page doesn't scroll\n\n      setActive(addDays(active, -7));\n\n      if (!betweenDates(addDays(active, -7), displayBounds)) {\n        changeReference(addDays(active, -7));\n      }\n    },\n    onDown: function onDown(event) {\n      event.preventDefault();\n      event.stopPropagation(); // so the page doesn't scroll\n\n      setActive(addDays(active, 7));\n\n      if (!betweenDates(addDays(active, 7), displayBounds)) {\n        changeReference(active);\n      }\n    },\n    onLeft: function onLeft() {\n      setActive(addDays(active, -1));\n\n      if (!betweenDates(addDays(active, -1), displayBounds)) {\n        changeReference(active);\n      }\n    },\n    onRight: function onRight() {\n      setActive(addDays(active, 1));\n\n      if (!betweenDates(addDays(active, 2), displayBounds)) {\n        changeReference(active);\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledWeeksContainer, {\n    tabIndex: 0,\n    role: \"grid\",\n    \"aria-label\": \"\\n                \" + reference.toLocaleDateString(locale, {\n      month: 'long',\n      year: 'numeric'\n    }) + \";\\n                \" + getAccessibilityString(date, dates, normalize) + \"\\n              \",\n    ref: daysRef,\n    sizeProp: size,\n    fillContainer: fill,\n    focus: focus,\n    onFocus: function onFocus() {\n      setFocus(true); // caller focused onto Calendar via keyboard\n\n      if (!mouseDown) {\n        setActive(new Date(firstDayInMonth));\n      }\n    },\n    onBlur: function onBlur() {\n      setFocus(false);\n      setActive(undefined);\n    }\n  }, /*#__PURE__*/React.createElement(StyledWeeks, {\n    slide: slide,\n    sizeProp: size,\n    fillContainer: fill\n  }, weeks)))));\n});\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = CalendarPropTypes;\nexport { Calendar };","map":{"version":3,"names":["_excluded","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","bind","arguments","prototype","hasOwnProperty","call","apply","React","forwardRef","useCallback","useContext","useMemo","useRef","useState","useEffect","ThemeContext","defaultProps","AnnounceContext","MessageContext","Box","Button","Heading","Keyboard","StyledCalendar","StyledDay","StyledDayContainer","StyledWeek","StyledWeeks","StyledWeeksContainer","addDays","addMonths","betweenDates","daysApart","endOfMonth","formatToLocalYYYYMMDD","getFormattedDate","getTimestamp","normalizeForTimezone","startOfMonth","subtractDays","subtractMonths","withinDates","CalendarPropTypes","headingPadMap","small","medium","large","activeDates","start","end","formatSelectedDatesString","date","normalize","map","item","dates","Array","isArray","undefined","getAccessibilityString","normalizeDate","dateValue","timestamp","_dateValue$0$map","day","from","to","dateArray","forEach","d","_d$map","_from","_to","push","normalizeReference","reference","normalizedReference","Date","setHours","buildDisplayBounds","firstDayOfWeek","setDate","getDay","millisecondsPerYear","CalendarDayButton","props","createElement","tabIndex","plain","CalendarDay","_ref","children","fill","size","isInRange","isSelected","otherMonth","_ref$buttonProps","buttonProps","role","sizeProp","fillContainer","disabledProp","disabled","inRange","CalendarCustomDay","_ref2","Calendar","_ref3","ref","activeDateProp","activeDate","_ref3$animate","animate","boundsProp","bounds","dateProp","datesProp","daysOfWeek","initialFocus","_ref3$firstDayOfWeek","header","_ref3$locale","locale","messages","_ref3$normalize","normalizeProp","onReference","onSelect","range","referenceProp","_ref3$showAdjacentDay","showAdjacentDays","_ref3$size","timestampProp","rest","theme","announce","_useContext","format","_useState","mouseDown","setMouseDown","onMouseDown","onMouseUp","document","addEventListener","removeEventListener","_useState2","setNormalize","_useState3","setActiveDate","normalizedDate","normalizedDates","_useState4","_useState5","setDates","_useState6","setReference","_useState7","setBounds","_useState8","displayBounds","setDisplayBounds","_useState9","targetDisplayBounds","setTargetDisplayBounds","_useState10","slide","setSlide","_useState11","animating","setAnimating","nextDisplayBounds","getTime","diffBoundsAboveYear","direction","weeks","timer","setTimeout","clearTimeout","previousMonth","nextMonth","daysRef","_useState12","focus","setFocus","_useState13","active","setActive","current","changeReference","nextReference","toISOString","selectDate","selectedDate","nextDates","nextDate","nextNormalize","priorDate","selDate","handleSelection","priorDates","formattedDate","renderCalendarHeader","PreviousIcon","calendar","icons","previous","NextIcon","next","justify","align","flex","pad","horizontal","level","heading","margin","toLocaleDateString","month","year","a11yTitle","id","values","icon","onClick","renderDaysOfWeek","days","weekday","firstDayInMonth","blankWeek","getMonth","getDate","dateString","selected","selectedState","dayDisabled","toDateString","onMouseOver","onMouseOut","onPreviousMonth","onNextMonth","previousInBound","nextInBound","onEnter","onUp","event","preventDefault","stopPropagation","onDown","onLeft","onRight","onFocus","onBlur","displayName","propTypes"],"sources":["/Users/alinoki/Desktop/my-app/node_modules/grommet/es6/components/Calendar/Calendar.js"],"sourcesContent":["var _excluded = [\"activeDate\", \"animate\", \"bounds\", \"children\", \"date\", \"dates\", \"daysOfWeek\", \"disabled\", \"initialFocus\", \"fill\", \"firstDayOfWeek\", \"header\", \"locale\", \"messages\", \"normalize\", \"onReference\", \"onSelect\", \"range\", \"reference\", \"showAdjacentDays\", \"size\", \"timestamp\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useRef, useState, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Heading } from '../Heading';\nimport { Keyboard } from '../Keyboard';\nimport { StyledCalendar, StyledDay, StyledDayContainer, StyledWeek, StyledWeeks, StyledWeeksContainer } from './StyledCalendar';\nimport { addDays, addMonths, betweenDates, daysApart, endOfMonth, formatToLocalYYYYMMDD, getFormattedDate, getTimestamp, normalizeForTimezone, startOfMonth, subtractDays, subtractMonths, withinDates } from './utils';\nimport { CalendarPropTypes } from './propTypes';\nvar headingPadMap = {\n  small: 'xsmall',\n  medium: 'small',\n  large: 'medium'\n};\nvar activeDates = {\n  start: 'start',\n  end: 'end'\n};\n\nvar formatSelectedDatesString = function formatSelectedDatesString(date, normalize) {\n  return \"Currently selected\\n  \" + (date == null ? void 0 : date.map(function (item) {\n    var dates;\n\n    if (!Array.isArray(item)) {\n      dates = formatToLocalYYYYMMDD(item, normalize) + \" \";\n    } else {\n      var start = item[0] !== undefined ? formatToLocalYYYYMMDD(item[0], normalize) : 'none';\n      var end = item[1] !== undefined ? formatToLocalYYYYMMDD(item[1], normalize) : 'none';\n      dates = start + \" through \" + end;\n    }\n\n    return dates;\n  }));\n};\n\nvar getAccessibilityString = function getAccessibilityString(date, dates, normalize) {\n  if (date && !Array.isArray(date)) {\n    return \"Currently selected \" + formatToLocalYYYYMMDD(date, normalize) + \";\";\n  }\n\n  if (date && Array.isArray(date)) {\n    return formatSelectedDatesString(date, normalize);\n  }\n\n  if (dates != null && dates.length) {\n    return formatSelectedDatesString(dates, normalize);\n  }\n\n  return 'No date selected';\n}; // function that runs inside the useEffect for date and dates\n\n\nvar normalizeDate = function normalizeDate(dateValue, timestamp, normalize) {\n  if (typeof dateValue === 'string') {\n    return normalizeForTimezone(dateValue, timestamp, normalize);\n  }\n\n  if (Array.isArray(dateValue)) {\n    if (Array.isArray(dateValue[0])) {\n      var _dateValue$0$map = dateValue[0].map(function (day) {\n        return normalizeForTimezone(day, timestamp, normalize) || undefined;\n      }),\n          from = _dateValue$0$map[0],\n          to = _dateValue$0$map[1];\n\n      return [[from, to]];\n    }\n\n    var dateArray = [];\n    dateValue.forEach(function (d) {\n      if (Array.isArray(d)) {\n        var _d$map = d.map(function (day) {\n          return normalizeForTimezone(day, timestamp, normalize);\n        }),\n            _from = _d$map[0],\n            _to = _d$map[1];\n\n        dateArray.push([_from, _to]);\n      } else {\n        dateArray.push(normalizeForTimezone(d, timestamp, normalize));\n      }\n    });\n    return dateArray;\n  }\n\n  return undefined;\n};\n\nvar normalizeReference = function normalizeReference(reference, date, dates, timestamp) {\n  var normalizedReference;\n\n  if (reference) {\n    normalizedReference = new Date(normalizeForTimezone(reference, timestamp));\n  } else if (date) {\n    if (typeof date === 'string') {\n      normalizedReference = new Date(date);\n    } else if (Array.isArray(date)) {\n      if (typeof date[0] === 'string') {\n        normalizedReference = new Date(date[0]);\n      } else if (Array.isArray(date[0])) {\n        normalizedReference = new Date(date[0][0] ? date[0][0] : date[0][1]);\n      } else {\n        normalizedReference = new Date();\n        normalizedReference.setHours(0, 0, 0, 0);\n      }\n    }\n  } else if (dates && dates.length > 0) {\n    if (typeof dates[0] === 'string') {\n      normalizedReference = new Date(dates[0]);\n    } else if (Array.isArray(dates[0])) {\n      normalizedReference = new Date(dates[0][0] ? dates[0][0] : dates[0][1]);\n    } else {\n      normalizedReference = new Date();\n      normalizedReference.setHours(0, 0, 0, 0);\n    }\n  } else {\n    normalizedReference = new Date();\n    normalizedReference.setHours(0, 0, 0, 0);\n  }\n\n  return normalizedReference;\n};\n\nvar buildDisplayBounds = function buildDisplayBounds(reference, firstDayOfWeek) {\n  var start = new Date(reference);\n  start.setDate(1); // first of month\n  // In case Sunday is the first day of the month, and the user asked for Monday\n  // to be the first day of the week, then we need to include Sunday and six\n  // days prior.\n\n  start = start.getDay() === 0 && firstDayOfWeek === 1 ? start = subtractDays(start, 6) : // beginning of week\n  start = subtractDays(start, start.getDay() - firstDayOfWeek);\n  var end = addDays(start, 7 * 5 + 7); // 5 weeks to end of week\n\n  return [start, end];\n};\n\nvar millisecondsPerYear = 31557600000;\n\nvar CalendarDayButton = function CalendarDayButton(props) {\n  return /*#__PURE__*/React.createElement(Button, _extends({\n    tabIndex: -1,\n    plain: true\n  }, props));\n};\n\nvar CalendarDay = function CalendarDay(_ref) {\n  var children = _ref.children,\n      fill = _ref.fill,\n      size = _ref.size,\n      isInRange = _ref.isInRange,\n      isSelected = _ref.isSelected,\n      otherMonth = _ref.otherMonth,\n      _ref$buttonProps = _ref.buttonProps,\n      buttonProps = _ref$buttonProps === void 0 ? {} : _ref$buttonProps;\n  return /*#__PURE__*/React.createElement(StyledDayContainer, {\n    role: \"gridcell\",\n    sizeProp: size,\n    fillContainer: fill\n  }, /*#__PURE__*/React.createElement(CalendarDayButton, _extends({\n    fill: fill\n  }, buttonProps), /*#__PURE__*/React.createElement(StyledDay, {\n    disabledProp: buttonProps.disabled,\n    inRange: isInRange,\n    otherMonth: otherMonth,\n    isSelected: isSelected,\n    sizeProp: size,\n    fillContainer: fill\n  }, children)));\n};\n\nvar CalendarCustomDay = function CalendarCustomDay(_ref2) {\n  var children = _ref2.children,\n      fill = _ref2.fill,\n      size = _ref2.size,\n      buttonProps = _ref2.buttonProps;\n\n  if (!buttonProps) {\n    return /*#__PURE__*/React.createElement(StyledDayContainer, {\n      role: \"gridcell\",\n      sizeProp: size,\n      fillContainer: fill\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(StyledDayContainer, {\n    role: \"gridcell\",\n    sizeProp: size,\n    fillContainer: fill\n  }, /*#__PURE__*/React.createElement(CalendarDayButton, _extends({\n    fill: fill\n  }, buttonProps), children));\n};\n\nvar Calendar = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var activeDateProp = _ref3.activeDate,\n      _ref3$animate = _ref3.animate,\n      animate = _ref3$animate === void 0 ? true : _ref3$animate,\n      boundsProp = _ref3.bounds,\n      children = _ref3.children,\n      dateProp = _ref3.date,\n      datesProp = _ref3.dates,\n      daysOfWeek = _ref3.daysOfWeek,\n      disabled = _ref3.disabled,\n      initialFocus = _ref3.initialFocus,\n      fill = _ref3.fill,\n      _ref3$firstDayOfWeek = _ref3.firstDayOfWeek,\n      firstDayOfWeek = _ref3$firstDayOfWeek === void 0 ? 0 : _ref3$firstDayOfWeek,\n      header = _ref3.header,\n      _ref3$locale = _ref3.locale,\n      locale = _ref3$locale === void 0 ? 'en-US' : _ref3$locale,\n      messages = _ref3.messages,\n      _ref3$normalize = _ref3.normalize,\n      normalizeProp = _ref3$normalize === void 0 ? true : _ref3$normalize,\n      onReference = _ref3.onReference,\n      onSelect = _ref3.onSelect,\n      range = _ref3.range,\n      referenceProp = _ref3.reference,\n      _ref3$showAdjacentDay = _ref3.showAdjacentDays,\n      showAdjacentDays = _ref3$showAdjacentDay === void 0 ? true : _ref3$showAdjacentDay,\n      _ref3$size = _ref3.size,\n      size = _ref3$size === void 0 ? 'medium' : _ref3$size,\n      timestampProp = _ref3.timestamp,\n      rest = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var announce = useContext(AnnounceContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format; // when mousedown, we don't want to let Calendar set\n  // active date to firstInMonth\n\n\n  var _useState = useState(false),\n      mouseDown = _useState[0],\n      setMouseDown = _useState[1];\n\n  var onMouseDown = function onMouseDown() {\n    return setMouseDown(true);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    return setMouseDown(false);\n  };\n\n  useEffect(function () {\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('mouseup', onMouseUp);\n    return function () {\n      document.removeEventListener('mousedown', onMouseDown);\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []); // whether or not we should normalize the date based on the timestamp.\n  // will be set to false if the initial timestamp is undefined (meaning\n  // a user did not provide a defaultValue or value). in this case, we\n  // will just rely on the UTC timestamp and don't need to normalize.\n\n  var _useState2 = useState(normalizeProp),\n      normalize = _useState2[0],\n      setNormalize = _useState2[1]; // set activeDate when caller changes it, allows us to change\n  // it internally too\n\n\n  var _useState3 = useState(dateProp && typeof dateProp === 'string' && range ? activeDates.end : activeDates.start),\n      activeDate = _useState3[0],\n      setActiveDate = _useState3[1];\n\n  useEffect(function () {\n    if (activeDateProp) setActiveDate(activeDateProp);\n  }, [activeDateProp]);\n  var timestamp = useMemo(function () {\n    return timestampProp;\n  }, [timestampProp]);\n\n  if (timestampProp === undefined) {\n    if (Array.isArray(dateProp) && dateProp.length) {\n      if (Array.isArray(dateProp[0])) {\n        timestamp = getTimestamp(dateProp[0][0]);\n      } else timestamp = getTimestamp(dateProp[0]); // check to see if value is not an empty string\n      // empty string should behave like undefined\n\n    } else if (typeof dateProp === 'string' && dateProp.length) {\n      timestamp = getTimestamp(dateProp);\n    } else if (Array.isArray(datesProp) && datesProp.length) {\n      if (Array.isArray(datesProp[0])) {\n        timestamp = getTimestamp(datesProp[0][0]);\n      } else timestamp = getTimestamp(datesProp[0]);\n    } else if (typeof datesProp === 'string') {\n      timestamp = getTimestamp(datesProp);\n    } else if (typeof referenceProp === 'string') {\n      timestamp = getTimestamp(referenceProp);\n    }\n  }\n\n  var normalizedDate = useMemo(function () {\n    return timestampProp === undefined ? normalizeDate(dateProp, timestamp, normalize) : dateProp;\n  }, [dateProp, normalize, timestamp, timestampProp]);\n  var normalizedDates = useMemo(function () {\n    return timestampProp === undefined ? normalizeDate(datesProp, timestamp, normalize) : datesProp;\n  }, [datesProp, normalize, timestamp, timestampProp]); // set date when caller changes it, allows us to change it internally too\n\n  var _useState4 = useState(normalizedDate),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  useEffect(function () {\n    setDate(normalizedDate);\n  }, [normalizedDate]); // set dates when caller changes it, allows us to change it internally too\n\n  var _useState5 = useState(normalizedDates),\n      dates = _useState5[0],\n      setDates = _useState5[1];\n\n  useEffect(function () {\n    setDates(normalizedDates);\n  }, [normalizedDates]); // set reference based on what the caller passed or date/dates.\n\n  var _useState6 = useState(normalizeReference(referenceProp, normalizedDate, normalizedDates, timestamp)),\n      reference = _useState6[0],\n      setReference = _useState6[1];\n\n  useEffect(function () {\n    return setReference(normalizeReference(referenceProp, normalizedDate, normalizedDates, timestamp));\n  }, [referenceProp, normalizedDate, normalizedDates, timestamp]); // normalize bounds\n\n  var _useState7 = useState(boundsProp),\n      bounds = _useState7[0],\n      setBounds = _useState7[1];\n\n  useEffect(function () {\n    if (boundsProp) setBounds(boundsProp);else setBounds(undefined);\n  }, [boundsProp]); // calculate the bounds we display based on the reference\n\n  var _useState8 = useState(buildDisplayBounds(reference, firstDayOfWeek)),\n      displayBounds = _useState8[0],\n      setDisplayBounds = _useState8[1];\n\n  var _useState9 = useState(),\n      targetDisplayBounds = _useState9[0],\n      setTargetDisplayBounds = _useState9[1];\n\n  var _useState10 = useState(),\n      slide = _useState10[0],\n      setSlide = _useState10[1];\n\n  var _useState11 = useState(),\n      animating = _useState11[0],\n      setAnimating = _useState11[1]; // When the reference changes, we need to update the displayBounds.\n  // This is easy when we aren't animating. If we are animating,\n  // we temporarily increase the displayBounds to be the union of the old\n  // and new ones and set slide to drive the animation. We keep track\n  // of where we are heading via targetDisplayBounds. When the animation\n  // finishes, we prune displayBounds down to where we are headed and\n  // clear the slide and targetDisplayBounds.\n\n\n  useEffect(function () {\n    var nextDisplayBounds = buildDisplayBounds(reference, firstDayOfWeek); // Checks if the difference between the current and next DisplayBounds is\n    // greater than a year. If that's the case, calendar should update without\n    // animation.\n\n    if (nextDisplayBounds[0].getTime() !== displayBounds[0].getTime() && nextDisplayBounds[1].getTime() !== displayBounds[1].getTime()) {\n      var diffBoundsAboveYear = false;\n\n      if (nextDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\n        if (displayBounds[0].getTime() - nextDisplayBounds[0].getTime() > millisecondsPerYear) {\n          diffBoundsAboveYear = true;\n        }\n      } else if (nextDisplayBounds[1].getTime() > displayBounds[1].getTime()) {\n        if (nextDisplayBounds[1].getTime() - displayBounds[1].getTime() > millisecondsPerYear) {\n          diffBoundsAboveYear = true;\n        }\n      }\n\n      if (!animate || diffBoundsAboveYear) {\n        setDisplayBounds(nextDisplayBounds);\n      } else {\n        setTargetDisplayBounds(nextDisplayBounds);\n      }\n    }\n  }, [animate, firstDayOfWeek, reference, displayBounds]);\n  useEffect(function () {\n    if (targetDisplayBounds) {\n      if (targetDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\n        // only animate if the duration is within a year\n        if (displayBounds[0].getTime() - targetDisplayBounds[0].getTime() < millisecondsPerYear) {\n          setDisplayBounds([targetDisplayBounds[0], displayBounds[1]]);\n          setSlide({\n            direction: 'down',\n            weeks: daysApart(displayBounds[0], targetDisplayBounds[0]) / 7\n          });\n          setAnimating(true);\n        }\n      } else if (targetDisplayBounds[1].getTime() > displayBounds[1].getTime()) {\n        if (targetDisplayBounds[1].getTime() - displayBounds[1].getTime() < millisecondsPerYear) {\n          setDisplayBounds([displayBounds[0], targetDisplayBounds[1]]);\n          setSlide({\n            direction: 'up',\n            weeks: daysApart(targetDisplayBounds[1], displayBounds[1]) / 7\n          });\n          setAnimating(true);\n        }\n      }\n\n      return undefined;\n    }\n\n    setSlide(undefined);\n    return undefined;\n  }, [animating, displayBounds, targetDisplayBounds]); // Last step in updating the displayBounds. Allows for pruning\n  // displayBounds and cleaning up states to occur after animation.\n\n  useEffect(function () {\n    if (animating && targetDisplayBounds) {\n      // Wait for animation to finish before cleaning up.\n      var timer = setTimeout(function () {\n        setDisplayBounds(targetDisplayBounds);\n        setTargetDisplayBounds(undefined);\n        setSlide(undefined);\n        setAnimating(false);\n      }, 400 // Empirically determined.\n      );\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [animating, targetDisplayBounds]); // We have to deal with reference being the end of a month with more\n  // days than the month we are changing to. So, we always set reference\n  // to the first of the month before changing the month.\n\n  var previousMonth = useMemo(function () {\n    return endOfMonth(subtractMonths(startOfMonth(reference), 1));\n  }, [reference]);\n  var nextMonth = useMemo(function () {\n    return startOfMonth(addMonths(startOfMonth(reference), 1));\n  }, [reference]);\n  var daysRef = useRef();\n\n  var _useState12 = useState(),\n      focus = _useState12[0],\n      setFocus = _useState12[1];\n\n  var _useState13 = useState(),\n      active = _useState13[0],\n      setActive = _useState13[1];\n\n  useEffect(function () {\n    if (initialFocus === 'days') daysRef.current.focus();\n  }, [initialFocus]);\n  var changeReference = useCallback(function (nextReference) {\n    if (betweenDates(nextReference, bounds)) {\n      setReference(nextReference);\n      if (onReference) onReference(nextReference.toISOString());\n    }\n  }, [onReference, bounds]);\n  var selectDate = useCallback(function (selectedDate) {\n    var nextDates;\n    var nextDate; // timestamp will be undefined if no defaultValue or value have\n    // been passed in, indicating that we should stay local\n\n    var nextNormalize = normalize;\n\n    if (timestamp === undefined) {\n      nextNormalize = false;\n      setNormalize(nextNormalize);\n    }\n\n    if (!range) {\n      nextDate = selectedDate;\n    } // everything down is a range\n    else if (!dates && !Array.isArray(date)) {\n      // if user supplies date, convert this into dates\n      if (date) {\n        var priorDate = new Date(date);\n        var selDate = new Date(selectedDate);\n\n        if (activeDate === activeDates.start) {\n          if (selDate.getTime() > priorDate.getTime()) {\n            nextDates = [[selectedDate, undefined]];\n          } else {\n            nextDates = [[selectedDate, date]];\n          }\n\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.end) {\n          if (selDate.getTime() < priorDate.getTime()) {\n            nextDates = [[selectedDate, undefined]];\n            setActiveDate(activeDates.end);\n          } else {\n            nextDates = [[date, selectedDate]];\n            setActiveDate(activeDates.start);\n          }\n\n          if (activeDateProp) setActiveDate(activeDateProp);\n        }\n      } else if (activeDate === activeDates.start) {\n        nextDates = [[selectedDate, undefined]];\n        setActiveDate(activeDates.end);\n      } else if (activeDate === activeDates.end) {\n        nextDates = [[undefined, selectedDate]];\n      }\n\n      if (activeDateProp) setActiveDate(activeDateProp);\n    } else if (dates || date) {\n      var handleSelection = function handleSelection(dateValue) {\n        var priorDates = dateValue[0].map(function (d) {\n          return new Date(d);\n        });\n        var selDate = new Date(selectedDate);\n\n        if (selDate.getTime() === priorDates[0].getTime()) {\n          nextDates = [[undefined, dateValue[0][1]]];\n          setActiveDate(activeDates.start);\n        } else if (selDate.getTime() === priorDates[1].getTime()) {\n          nextDates = [[dateValue[0][0], undefined]];\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.start) {\n          if (selDate.getTime() > priorDates[1].getTime()) {\n            nextDates = [[selectedDate, undefined]];\n          } else {\n            nextDates = [[selectedDate, dateValue[0][1]]];\n          }\n\n          setActiveDate(activeDates.end);\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } else if (activeDate === activeDates.end) {\n          if (selDate.getTime() < priorDates[0].getTime()) {\n            nextDates = [[selectedDate, undefined]];\n            setActiveDate(activeDates.end);\n          } else {\n            nextDates = [[dateValue[0][0], selectedDate]];\n            setActiveDate(activeDates.start);\n          }\n\n          if (activeDateProp) setActiveDate(activeDateProp);\n        } // cleanup\n\n\n        if (!nextDates[0][0] && !nextDates[0][1]) nextDates = undefined;\n      }; // have dates\n\n\n      if (dates) {\n        handleSelection(dates);\n      } else if (date && Array.isArray(date)) {\n        handleSelection(date);\n      }\n    }\n\n    setDates(nextDates);\n\n    if (date && typeof date === 'string') {\n      setDate(nextDate);\n    } else if (date && Array.isArray(date)) {\n      setDate(nextDates);\n    }\n\n    setActive(new Date(selectedDate));\n\n    if (onSelect) {\n      // format date/dates to match structure provided by caller\n      // which could take format of:\n      // 1. ISO8601 with a timestamp\n      // 2. ISO8601 without a timestamp\n      // 3. Caller did not provide value/defaultValue, so return date\n      // in ISO8601 with timestamp in UTC relative to user's local timezone\n      var formattedDate = getFormattedDate(nextDate, nextDates, nextNormalize, range, timestamp);\n      onSelect(formattedDate);\n    }\n  }, [activeDate, activeDateProp, date, dates, normalize, onSelect, range, timestamp]);\n\n  var renderCalendarHeader = function renderCalendarHeader() {\n    var PreviousIcon = size === 'small' ? theme.calendar.icons.small.previous : theme.calendar.icons.previous;\n    var NextIcon = size === 'small' ? theme.calendar.icons.small.next : theme.calendar.icons.next;\n    return /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: \"between\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: true,\n      pad: {\n        horizontal: headingPadMap[size] || 'small'\n      }\n    }, /*#__PURE__*/React.createElement(Heading, {\n      level: size === 'small' ? theme.calendar.heading && theme.calendar.heading.level || 4 : (theme.calendar.heading && theme.calendar.heading.level || 4) - 1,\n      size: size,\n      margin: \"none\"\n    }, reference.toLocaleDateString(locale, {\n      month: 'long',\n      year: 'numeric'\n    }))), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'calendar.previous',\n        messages: messages,\n        values: {\n          date: previousMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }),\n      icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n        size: size !== 'small' ? size : undefined\n      }),\n      disabled: !betweenDates(previousMonth, bounds),\n      onClick: function onClick() {\n        changeReference(previousMonth);\n        announce(format({\n          id: 'calendar.previousMove',\n          messages: messages,\n          values: {\n            date: previousMonth.toLocaleDateString(locale, {\n              month: 'long',\n              year: 'numeric'\n            })\n          }\n        }));\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'calendar.next',\n        messages: messages,\n        values: {\n          date: nextMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }),\n      icon: /*#__PURE__*/React.createElement(NextIcon, {\n        size: size !== 'small' ? size : undefined\n      }),\n      disabled: !betweenDates(nextMonth, bounds),\n      onClick: function onClick() {\n        changeReference(nextMonth);\n        announce(format({\n          id: 'calendar.nextMove',\n          messages: messages,\n          values: {\n            date: nextMonth.toLocaleDateString(locale, {\n              month: 'long',\n              year: 'numeric'\n            })\n          }\n        }));\n      }\n    })));\n  };\n\n  var renderDaysOfWeek = function renderDaysOfWeek() {\n    var day = new Date(displayBounds[0]);\n    var days = [];\n\n    while (days.length < 7) {\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        role: \"gridcell\",\n        key: days.length,\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        otherMonth: true,\n        sizeProp: size,\n        fillContainer: fill\n      }, day.toLocaleDateString(locale, {\n        weekday: 'narrow'\n      }))));\n      day = addDays(day, 1);\n    }\n\n    return /*#__PURE__*/React.createElement(StyledWeek, {\n      role: \"row\"\n    }, days);\n  };\n\n  var weeks = [];\n  var day = new Date(displayBounds[0]);\n  var days;\n  var firstDayInMonth;\n  var blankWeek = false;\n\n  while (day.getTime() < displayBounds[1].getTime()) {\n    if (day.getDay() === firstDayOfWeek) {\n      if (days) {\n        weeks.push( /*#__PURE__*/React.createElement(StyledWeek, {\n          role: \"row\",\n          key: day.getTime(),\n          fillContainer: fill\n        }, days));\n      }\n\n      days = [];\n    }\n\n    var otherMonth = day.getMonth() !== reference.getMonth();\n\n    if (!showAdjacentDays && otherMonth) {\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        key: day.getTime(),\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        sizeProp: size,\n        fillContainer: fill\n      })));\n\n      if (weeks.length === 5 &&\n      /* If the length days array is less than the current getDate()\n      we know that all days in the array are from the next month. */\n      days.length < day.getDate()) {\n        blankWeek = true;\n      }\n    } else if (\n    /* Do not show adjacent days in 6th row if all days\n    fall in the next month */\n    showAdjacentDays === 'trim' && otherMonth && weeks.length === 5 &&\n    /* If the length days array is less than the current getDate()\n    we know that all days in the array are from the next month. */\n    days.length < day.getDate()) {\n      blankWeek = true;\n      days.push( /*#__PURE__*/React.createElement(StyledDayContainer, {\n        key: day.getTime(),\n        sizeProp: size,\n        fillContainer: fill\n      }, /*#__PURE__*/React.createElement(StyledDay, {\n        sizeProp: size,\n        fillContainer: fill\n      })));\n    } else {\n      (function () {\n        var dateString = day.toISOString(); // this.dayRefs[dateString] = React.createRef();\n\n        var selected = false;\n        var inRange = false;\n        var selectedState = withinDates(day, date || dates);\n\n        if (selectedState === 2) {\n          selected = true;\n        } else if (selectedState === 1) {\n          inRange = true;\n        }\n\n        var dayDisabled = withinDates(day, disabled) || bounds && !betweenDates(day, bounds);\n\n        if (!firstDayInMonth && !dayDisabled && day.getMonth() === reference.getMonth()) {\n          firstDayInMonth = dateString;\n        }\n\n        if (!children) {\n          days.push( /*#__PURE__*/React.createElement(CalendarDay, {\n            key: day.getTime(),\n            buttonProps: {\n              a11yTitle: day.toDateString(),\n              active: active && active.getTime() === day.getTime(),\n              disabled: dayDisabled && !!dayDisabled,\n              onClick: function onClick() {\n                selectDate(dateString);\n                announce(\"Selected \" + formatToLocalYYYYMMDD(dateString, normalize), 'assertive'); // Chrome moves the focus indicator to this button. Set\n                // the focus to the grid of days instead.\n\n                daysRef.current.focus();\n                setActive(new Date(dateString));\n              },\n              onMouseOver: function onMouseOver() {\n                return setActive(new Date(dateString));\n              },\n              onMouseOut: function onMouseOut() {\n                return setActive(undefined);\n              }\n            },\n            isInRange: inRange,\n            isSelected: selected,\n            otherMonth: day.getMonth() !== reference.getMonth(),\n            size: size,\n            fill: fill\n          }, day.getDate()));\n        } else {\n          days.push( /*#__PURE__*/React.createElement(CalendarCustomDay, {\n            key: day.getTime(),\n            buttonProps: onSelect ? {\n              a11yTitle: day.toDateString(),\n              active: active && active.getTime() === day.getTime(),\n              disabled: dayDisabled && !!dayDisabled,\n              onClick: function onClick() {\n                selectDate(dateString);\n                announce(\"Selected\\n                          \" + formatToLocalYYYYMMDD(dateString, normalize), 'assertive'); // Chrome moves the focus indicator to this button. Set\n                // the focus to the grid of days instead.\n\n                daysRef.current.focus();\n                setActive(new Date(dateString));\n              },\n              onMouseOver: function onMouseOver() {\n                return setActive(new Date(dateString));\n              },\n              onMouseOut: function onMouseOut() {\n                return setActive(undefined);\n              }\n            } : null,\n            size: size,\n            fill: fill\n          }, children({\n            date: day,\n            day: day.getDate(),\n            isInRange: inRange,\n            isSelected: selected\n          })));\n        }\n      })();\n    }\n\n    day = addDays(day, 1);\n  }\n\n  weeks.push( /*#__PURE__*/React.createElement(StyledWeek // if a week contains only blank days, for screen reader accessibility\n  // we don't want to set role=\"row\"\n  , {\n    role: !blankWeek ? 'row' : undefined,\n    key: day.getTime(),\n    fillContainer: fill\n  }, days));\n  return /*#__PURE__*/React.createElement(StyledCalendar, _extends({\n    ref: ref,\n    sizeProp: size,\n    fillContainer: fill\n  }, rest), /*#__PURE__*/React.createElement(Box, {\n    fill: fill\n  }, header ? header({\n    date: reference,\n    locale: locale,\n    onPreviousMonth: function onPreviousMonth() {\n      changeReference(previousMonth);\n      announce(format({\n        id: 'calendar.previous',\n        messages: messages,\n        values: {\n          date: previousMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }));\n    },\n    onNextMonth: function onNextMonth() {\n      changeReference(nextMonth);\n      announce(format({\n        id: 'calendar.next',\n        messages: messages,\n        values: {\n          date: nextMonth.toLocaleDateString(locale, {\n            month: 'long',\n            year: 'numeric'\n          })\n        }\n      }));\n    },\n    previousInBound: betweenDates(previousMonth, bounds),\n    nextInBound: betweenDates(nextMonth, bounds)\n  }) : renderCalendarHeader(previousMonth, nextMonth), daysOfWeek && renderDaysOfWeek(), /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: function onEnter() {\n      return active !== undefined ? selectDate(active.toISOString()) : undefined;\n    },\n    onUp: function onUp(event) {\n      event.preventDefault();\n      event.stopPropagation(); // so the page doesn't scroll\n\n      setActive(addDays(active, -7));\n\n      if (!betweenDates(addDays(active, -7), displayBounds)) {\n        changeReference(addDays(active, -7));\n      }\n    },\n    onDown: function onDown(event) {\n      event.preventDefault();\n      event.stopPropagation(); // so the page doesn't scroll\n\n      setActive(addDays(active, 7));\n\n      if (!betweenDates(addDays(active, 7), displayBounds)) {\n        changeReference(active);\n      }\n    },\n    onLeft: function onLeft() {\n      setActive(addDays(active, -1));\n\n      if (!betweenDates(addDays(active, -1), displayBounds)) {\n        changeReference(active);\n      }\n    },\n    onRight: function onRight() {\n      setActive(addDays(active, 1));\n\n      if (!betweenDates(addDays(active, 2), displayBounds)) {\n        changeReference(active);\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledWeeksContainer, {\n    tabIndex: 0,\n    role: \"grid\",\n    \"aria-label\": \"\\n                \" + reference.toLocaleDateString(locale, {\n      month: 'long',\n      year: 'numeric'\n    }) + \";\\n                \" + getAccessibilityString(date, dates, normalize) + \"\\n              \",\n    ref: daysRef,\n    sizeProp: size,\n    fillContainer: fill,\n    focus: focus,\n    onFocus: function onFocus() {\n      setFocus(true); // caller focused onto Calendar via keyboard\n\n      if (!mouseDown) {\n        setActive(new Date(firstDayInMonth));\n      }\n    },\n    onBlur: function onBlur() {\n      setFocus(false);\n      setActive(undefined);\n    }\n  }, /*#__PURE__*/React.createElement(StyledWeeks, {\n    slide: slide,\n    sizeProp: size,\n    fillContainer: fill\n  }, weeks)))));\n});\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = CalendarPropTypes;\nexport { Calendar };"],"mappings":"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"},"metadata":{},"sourceType":"module"}